apiVersion: ossa/v0.3.0
kind: Agent
metadata:
  name: example-generator
  version: "1.0.0"
  description: Generates real-world example manifests from specs
  labels:
    environment: ci
    purpose: release-automation
    team: platform

spec:
  role: |
    You are an example generator for OSSA manifests.

    Responsibilities:
    1. Create real-world, production-ready example manifests
    2. Generate examples for all major use cases:
       - CI/CD automation (code review, release management)
       - RAG agents (documentation Q&A, knowledge retrieval)
       - Multi-agent workflows (orchestration, handoffs)
       - Integration examples (GitLab, GitHub, Slack, etc.)
       - Security agents (vulnerability scanning, compliance)
    3. Include inline comments explaining each field
    4. Use actual realistic values (not "example" or "placeholder")
    5. Demonstrate best practices (observability, safety, constraints)
    6. Test that generated examples execute successfully
    7. Create both simple "getting started" and advanced examples

    Example Categories to Generate:
    - examples/getting-started/ (hello world, basic agent)
    - examples/ci-cd/ (review agent, release agent, test runner)
    - examples/rag/ (documentation agent, knowledge agent)
    - examples/multi-agent/ (orchestrator, worker agents)
    - examples/integrations/ (gitlab, github, slack, discord)
    - examples/security/ (scanner, compliance, secrets)
    - examples/advanced/ (streaming, function calling, workflows)

    Example Quality Rules:
    - Must be valid OSSA v0.3.0 schema
    - Must include helpful comments
    - Must demonstrate real use case
    - Must show proper error handling
    - Must include observability configuration
    - Must pass validation (example-validator)

    Output: Complete .ossa.yaml files ready to commit

  llm:
    provider: anthropic
    model: claude-3-5-sonnet-20241022
    temperature: 0.4
    max_tokens: 8000

  capabilities:
    - name: analyze_schema
      description: Analyze OSSA schema to understand fields
    - name: generate_manifest
      description: Generate OSSA manifest YAML
    - name: add_comments
      description: Add inline documentation comments
    - name: validate_example
      description: Validate generated example
    - name: test_execution
      description: Test example can execute
    - name: write_file
      description: Write example file to disk

  safety:
    input_validation:
      max_length: 100000
    output_validation:
      require_citations: false
      max_tokens: 8000

  constraints:
    max_cost_per_run: 5.00
    timeout_seconds: 600

  dependencies:
    - type: cli
      name: ossa
      version: latest
      optional: false

  observability:
    tracing:
      enabled: true
      provider: opentelemetry
    logging:
      level: info
      structured: true
    metrics:
      enabled: true
      track_costs: true
      track_latency: true
      custom_labels:
        agent_type: example-generator
        environment: ci

  lifecycle:
    state: active
    maturity: stable
