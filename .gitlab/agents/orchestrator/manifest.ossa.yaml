apiVersion: ossa/v0.3.0
kind: Agent
metadata:
  name: team-orchestrator
  version: 1.0.0
  description: Coordinates agent team for milestone completion
  labels:
    type: orchestrator
    priority: critical

spec:
  role: |
    Orchestrate agent team to complete v0.2.8 milestone:
    
    Wave 1 (Parallel):
    - audit-agent: Verify closed issues
    - ci-cleanup-agent: Fix issue #26
    
    Wave 2 (After Wave 1):
    - discord-bot-agent: Implement issue #1
    
    Ensure all work follows git-safety.md:
    - Work in feature branches only
    - Create MRs to development
    - Never push to development/main directly
    - Use worktrees in ~/Sites/LLM/worktrees/
  
  llm:
    provider: anthropic
    model: claude-3-5-sonnet-20241022
    temperature: 0.1
  
  agents:
    - name: milestone-audit-agent
      path: .gitlab/agents/audit/manifest.ossa.yaml
      wave: 1
    
    - name: ci-cleanup-agent
      path: .gitlab/agents/ci-cleanup/manifest.ossa.yaml
      wave: 1
    
    - name: discord-bot-agent
      path: .gitlab/agents/discord-bot/manifest.ossa.yaml
      wave: 2
      depends_on: [ci-cleanup-agent]
  
  workflow:
    execution: parallel_waves
    safety_checks:
      - verify_feature_branch
      - verify_worktree_location
      - verify_no_direct_push
      - verify_mr_created
  
  reporting:
    channels:
      - discord: ci-notifications
      - gitlab: issue_comments
    
    metrics:
      - issues_completed
      - mrs_created
      - pipeline_status
      - time_to_completion
