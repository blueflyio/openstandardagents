# GitLab Agent (Kubernetes) Configuration
# For infrastructure-level automation and deployment
# 
# Register at: Infrastructure → Kubernetes → Connect a cluster → GitLab Agent
# Config path: .gitlab/agents/version-manager/config.yaml

# Agent metadata
agent:
  name: version-manager
  namespace: ossa-agents

# GitOps configuration - auto-deploy on changes
gitops:
  manifest_projects:
    - id: blueflyio/ossa/openstandardagents
      default_namespace: ossa-agents
      paths:
        - glob: '.gitlab/agents/version-manager/**/*.yaml'
        - glob: 'infrastructure/k8s/version-manager/**/*.yaml'

# CI/CD access - allows pipelines to trigger agent jobs
ci_access:
  projects:
    - id: blueflyio/ossa/openstandardagents
      default_namespace: ossa-agents

# User access - who can interact with this agent
user_access:
  access_as:
    agent: {}
  projects:
    - id: blueflyio/ossa/openstandardagents

# Remote development (GitLab Workspace integration)
remote_development:
  enabled: true
  workspaces:
    - name: version-manager-workspace
      namespace: ossa-agents
      resources:
        limits:
          cpu: "2"
          memory: "4Gi"
        requests:
          cpu: "1"
          memory: "2Gi"

# Observability
observability:
  enabled: true
  logs:
    level: "info"
  metrics:
    enabled: true
    port: 8080
  tracing:
    enabled: true
    provider: "jaeger"
