image: alpine:latest
injectGatewayToken: true

commands:
  - echo "Starting component workflow flow"

steps:
  - id: component_analysis
    agent: bot-component-trainer
    with:
      project_id: "{{ event.project_id }}"
      merge_request_id: "{{ event.merge_request_id }}"
      changed_files: "{{ event.changed_files }}"

  - id: module_validation
    agent: bot-module-scaffolder
    with:
      project_id: "{{ event.project_id }}"
      merge_request_id: "{{ event.merge_request_id }}"
      changed_files: "{{ event.changed_files }}"
