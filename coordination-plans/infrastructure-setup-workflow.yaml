name: "cognitive-infrastructure-setup"
description: "Coordinate infrastructure pool agents for cognitive orchestration memory architecture"
version: "1.0.0"
template: "parallel-analysis"

workflow:
  phases:
    - name: "memory-architecture-foundation"
      description: "Deploy core memory infrastructure components"
      parallel: true
      agents:
        - agent: "redis-cluster-architect"
          task: "multi_tier_redis_cluster_setup"
          priority: "high"
          timeout: 1800
          parameters:
            cluster_nodes: 6
            replication_factor: 2
            memory_policy: "allkeys-lru"
            persistence: "aof"
        
        - agent: "postgresql-ltree-specialist" 
          task: "hierarchical_data_structures"
          priority: "high"
          timeout: 1800
          parameters:
            database_name: "ossa_cognitive"
            schema_name: "agent_hierarchy"
            ltree_extensions: true
            indexing_strategy: "gist"
        
        - agent: "minio-storage-expert"
          task: "distributed_object_storage"
          priority: "medium"
          timeout: 1200
          parameters:
            cluster_size: 4
            replication: 2
            erasure_coding: "4+2"
            
    - name: "vector-and-graph-systems"
      description: "Deploy advanced data storage for AI workloads"
      parallel: true
      dependencies: ["memory-architecture-foundation"]
      agents:
        - agent: "qdrant-vector-specialist"
          task: "high_dimensional_vector_database"
          priority: "critical"
          timeout: 2400
          parameters:
            collection_size: "10M_vectors"
            vector_dim: 1536
            distance_metric: "cosine"
            sharding_method: "custom"
            quantization: "scalar"
            
        - agent: "neo4j-graph-architect" 
          task: "knowledge_graph_infrastructure"
          priority: "critical"
          timeout: 2400
          parameters:
            cluster_mode: true
            memory_config: "32GB"
            relationship_types: ["DEPENDS_ON", "COMMUNICATES_WITH", "SPECIALIZES_IN"]
            index_strategy: "composite"
            
    - name: "orchestration-platform"
      description: "Deploy container orchestration and service mesh"
      parallel: false
      dependencies: ["vector-and-graph-systems"]
      agents:
        - agent: "kubernetes-orchestrator"
          task: "multi_zone_k8s_deployment"
          priority: "critical"
          timeout: 3600
          parameters:
            zones: 3
            node_pools: 4
            auto_scaling: true
            network_policy: "calico"
            
        - agent: "istio-mesh-architect"
          task: "service_mesh_deployment"
          priority: "high"
          timeout: 2400
          dependencies: ["kubernetes-orchestrator"]
          parameters:
            mtls_mode: "strict"
            telemetry: "comprehensive"
            ingress_gateways: 2
            
    - name: "monitoring-and-streaming"
      description: "Deploy monitoring and data streaming infrastructure"  
      parallel: true
      dependencies: ["orchestration-platform"]
      agents:
        - agent: "prometheus-metrics-specialist"
          task: "metrics_collection_setup"
          priority: "medium"
          timeout: 1800
          parameters:
            retention: "90d"
            scrape_interval: "15s"
            federation: true
            
        - agent: "grafana-dashboard-architect"
          task: "observability_dashboards"
          priority: "medium" 
          timeout: 1800
          dependencies: ["prometheus-metrics-specialist"]
          parameters:
            dashboard_count: 25
            alert_rules: 50
            data_sources: ["prometheus", "loki", "tempo"]
            
        - agent: "kafka-streaming-expert"
          task: "event_streaming_platform"
          priority: "high"
          timeout: 2400
          parameters:
            broker_count: 6
            replication_factor: 3
            topics: ["agent-events", "task-results", "coordination-messages"]
            
coordination:
  failure_handling:
    retry_policy: "exponential_backoff"
    max_retries: 3
    circuit_breaker: true
    
  monitoring:
    health_checks: "continuous"
    performance_metrics: "real_time"
    alert_conditions: ["agent_failure", "resource_exhaustion", "dependency_timeout"]
    
  success_criteria:
    memory_latency: "<1ms L1, <10ms L2"
    vector_search: "<10ms"
    graph_traversal: "<5ms"
    k8s_pod_startup: "<30s"
    overall_uptime: ">99.5%"

estimated_completion: "4-6 hours"
resource_requirements:
  cpu_cores: 128
  memory_gb: 512
  storage_tb: 20
  gpu_count: 0