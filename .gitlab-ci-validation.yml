# Validation jobs for CI/CD
# Include in main .gitlab-ci.yml with: include: .gitlab-ci-validation.yml

validate:versions:
  stage: test
  script:
    - npm ci
    - npm run validate:all
  only:
    - merge_requests
    - main
    - development

validate:schemas:
  stage: test
  script:
    - npm ci
    - npm run validate:schema
  only:
    - merge_requests
    - main
    - development

validate:website:
  stage: test
  script:
    - cd website
    - npm ci
    - npm run sync-version
    - npm run lint
  only:
    - merge_requests
    - main
    - development
