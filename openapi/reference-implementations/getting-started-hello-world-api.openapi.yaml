openapi: 3.1.0
info:
  title: Hello World Agent API
  version: 0.3.2
  description: |
    Minimal OSSA-compliant agent API demonstrating basic capabilities.
    This agent can greet users, echo messages, and report its status.
    Perfect for learning OSSA fundamentals and testing deployments.

x-ossa-metadata:
  version: 0.2.5-RC
  compliance:
    level: basic
    frameworks:
      - OSSA
      - OpenAPI 3.1

x-ossa:
  version: 0.2.5-RC
  agent:
    id: hello-world-agent
    type: worker
    compliance:
      standards:
        - openapi-first
      validated: true
      validatedAt: "2024-01-15T10:00:00Z"

servers:
  - url: http://localhost:3000
    description: Local development server

tags:
  - name: greeting
    description: Greeting operations
  - name: echo
    description: Echo operations
  - name: status
    description: Status operations

paths:
  /greet:
    post:
      summary: Generate greeting
      description: Generates a personalized greeting message for a user
      operationId: greet
      tags: [greeting]
      x-ossa-capability: greeting
      x-ossa-autonomy:
        level: autonomous
        approval_required: false
      x-ossa-llm:
        provider: openai
        model: gpt-3.5-turbo
        temperature: 0.7
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name:
                  type: string
                  description: Name to greet
                  example: "Alice"
                language:
                  type: string
                  enum: [en, es, fr, de]
                  default: en
                  description: Language for greeting
      responses:
        '200':
          description: Greeting generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: The greeting message
                  timestamp:
                    type: string
                    format: date-time

  /echo:
    post:
      summary: Echo input
      description: Echo back a message sent to the agent
      operationId: echo
      tags: [echo]
      x-ossa-capability: echo_message
      x-ossa-autonomy:
        level: autonomous
        approval_required: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [message]
              properties:
                message:
                  type: string
                  description: Message to echo
      responses:
        '200':
          description: Message echoed
          content:
            application/json:
              schema:
                type: object
                properties:
                  echo:
                    type: string
                  received_at:
                    type: string
                    format: date-time

  /status:
    get:
      summary: Get agent status
      description: Returns the current status of the agent
      operationId: getStatus
      tags: [status]
      x-ossa-capability: get_status
      x-ossa-autonomy:
        level: autonomous
        approval_required: false
      responses:
        '200':
          description: Agent status
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum: [online, offline, maintenance]
                  version:
                    type: string
                  uptime:
                    type: integer
                    description: Uptime in seconds

