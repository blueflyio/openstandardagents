import { z } from "zod"

export default z.object({ "apiVersion": z.string().regex(new RegExp("^ossa/v(0\\.3\\.[0-9]+(-[a-zA-Z0-9]+)?|0\\.2\\.[2-9](-dev)?|1)(\\.[0-9]+)?(-[a-zA-Z0-9]+)?$")).describe("OSSA API version (v0.3.0+ supports Task and Workflow kinds)"), "kind": z.enum(["Agent","Task","Workflow"]).describe("Resource type: Agent (agentic loops), Task (deterministic steps), or Workflow (composition)"), "metadata": z.any(), "spec": z.any().describe("Specification varies based on kind").optional(), "extensions": z.object({ "mcp": z.any().optional() }).catchall(z.any()).describe("Framework-specific extensions").optional(), "runtime": z.any().describe("Runtime-specific capability bindings (for Task and Workflow kinds)").optional() }).and(z.intersection(z.any(), z.intersection(z.any(), z.any()))).describe("Open Standard for Scalable AI Agents (OSSA) v0.3.0 - Unified Task Schema. Supports Agent (agentic loops with LLM), Task (deterministic workflow steps), and Workflow (composition of Tasks and Agents) kinds Includes Agent-to-Agent Messaging Extension.")
