{
  "name": "OSSA API-First Templates",
  "version": "0.1.8",
  "description": "Comprehensive API-first templates for OSSA-compliant agents with 360째 Feedback Loop and ACTA token optimization",
  "author": "OSSA Framework Team",
  "license": "Apache-2.0",
  "created": "2024-01-01T00:00:00Z",
  "updated": "2024-01-01T00:00:00Z",
  
  "specifications": {
    "ossa_version": "0.1.8",
    "feedback_loop": {
      "phases": ["plan", "execute", "review", "judge", "learn", "govern"],
      "agent_types": [
        "orchestrator", "worker", "critic", "judge", 
        "trainer", "governor", "monitor", "integrator"
      ]
    },
    "acta_framework": {
      "compression_strategies": [
        "vector_semantic", "hierarchical", "adaptive", "hybrid"
      ],
      "model_tiers": [
        "lightweight", "standard", "premium", "specialized"
      ],
      "token_reduction": "50-70%",
      "semantic_fidelity": ">90%",
      "cost_reduction": "30-40%"
    },
    "compliance_levels": {
      "bronze": "Basic object support, core endpoints, JSON validation",
      "silver": "Full feedback loop, budget enforcement, audit logging, ACDL registration", 
      "gold": "Multi-protocol support, Props tokens, learning signals, workspace management"
    }
  },

  "templates": [
    {
      "name": "OpenAPI REST Template",
      "file": "openapi-template.yaml",
      "type": "openapi",
      "version": "3.1.0",
      "protocol": "HTTP/REST",
      "description": "Complete OpenAPI 3.1 specification for OSSA-compliant REST APIs",
      "features": [
        "360째 Feedback Loop endpoints",
        "ACTA token optimization operations", 
        "Agent discovery and registration",
        "Health monitoring and metrics",
        "Multi-level authentication",
        "Compliance validation",
        "Budget management",
        "Real-time status updates"
      ],
      "compliance_level": "gold",
      "endpoints": {
        "discovery": ["/agents", "/agents/{id}"],
        "feedback_loop": [
          "/feedback/plan", "/feedback/execute/{id}", 
          "/feedback/review/{id}", "/feedback/judge/{id}",
          "/feedback/learning/{id}", "/feedback/governance/{id}"
        ],
        "acta": [
          "/acta/compress", "/acta/expand/{reference}",
          "/acta/model-switch", "/acta/optimize"
        ],
        "governance": [
          "/governance/budget", "/governance/compliance",
          "/governance/audit", "/governance/metrics"
        ]
      }
    },
    {
      "name": "GraphQL Schema Template",
      "file": "graphql-schema.graphql", 
      "type": "graphql",
      "version": "2023",
      "protocol": "HTTP/GraphQL",
      "description": "Comprehensive GraphQL schema with real-time subscriptions and federation support",
      "features": [
        "Real-time subscriptions for agent events",
        "Apollo Federation compatibility",
        "Custom OSSA directives",
        "Streaming feedback loop operations",
        "ACTA optimization mutations",
        "Type-safe agent interactions",
        "Batch operations support",
        "Introspection and tooling"
      ],
      "compliance_level": "gold",
      "operations": {
        "queries": [
          "agents", "feedbackLoop", "executionPlan",
          "compressionHistory", "agentMetrics", "systemHealth"
        ],
        "mutations": [
          "registerAgent", "createExecutionPlan", "executePlan",
          "submitReview", "submitJudgment", "compressContext",
          "optimizeModelSelection", "allocateTokens"
        ],
        "subscriptions": [
          "agentStatusChanged", "feedbackLoopPhaseChanged",
          "compressionCompleted", "budgetThresholdReached",
          "complianceViolationDetected"
        ]
      }
    },
    {
      "name": "gRPC Service Template",
      "file": "grpc-service.proto",
      "type": "grpc",
      "version": "proto3",
      "protocol": "gRPC/HTTP2",
      "description": "High-performance gRPC service definitions with streaming support",
      "features": [
        "Bi-directional streaming",
        "Type-safe protocol buffers",
        "Multi-language code generation",
        "High-performance communication",
        "Load balancing support",
        "Service mesh compatibility",
        "Health checking built-in",
        "Interceptor support"
      ],
      "compliance_level": "gold",
      "services": [
        {
          "name": "OSSAAgentService",
          "description": "Core agent operations and discovery",
          "methods": ["ListAgents", "RegisterAgent", "StreamAgentStatus"]
        },
        {
          "name": "OSSAFeedbackService", 
          "description": "360째 Feedback Loop management",
          "methods": ["CreateExecutionPlan", "ExecutePlan", "StreamFeedbackLoop"]
        },
        {
          "name": "OSSAACTAService",
          "description": "Token optimization and compression", 
          "methods": ["CompressContext", "GetModelRecommendation", "StreamOptimizations"]
        },
        {
          "name": "OSSAGovernanceService",
          "description": "Budget and compliance management",
          "methods": ["AllocateTokens", "ValidateCompliance", "StreamGovernanceEvents"]
        }
      ]
    }
  ],

  "usage_examples": {
    "agent_registration": {
      "openapi": {
        "method": "POST",
        "endpoint": "/v1/agents",
        "content_type": "application/json",
        "example": {
          "id": "api-orchestrator-v1",
          "name": "API Orchestrator Agent",
          "version": "1.0.0",
          "taxonomy": {
            "primary_type": "orchestrator",
            "compliance_level": "silver"
          },
          "capabilities": [
            {
              "name": "coordinate_api_calls",
              "description": "Orchestrates multiple API calls",
              "acta_optimized": true,
              "token_cost": {
                "estimated_tokens": 150,
                "cost_per_request": 0.0002
              }
            }
          ]
        }
      },
      "graphql": {
        "operation": "mutation",
        "query": "mutation RegisterAgent($input: AgentInput!) {\n  registerAgent(input: $input) {\n    id\n    name\n    taxonomy { complianceLevel }\n    status { health availability }\n  }\n}",
        "variables": {
          "input": {
            "name": "API Orchestrator Agent",
            "taxonomy": {"primaryType": "ORCHESTRATOR"},
            "capabilities": [{"name": "coordinate_api_calls"}]
          }
        }
      },
      "grpc": {
        "service": "OSSAAgentService",
        "method": "RegisterAgent", 
        "request": {
          "agent": {
            "id": "api-orchestrator-v1",
            "name": "API Orchestrator Agent",
            "taxonomy": {"primary_type": "AGENT_TAXONOMY_ORCHESTRATOR"}
          }
        }
      }
    },

    "feedback_loop_execution": {
      "openapi": {
        "create_plan": {
          "method": "POST",
          "endpoint": "/v1/feedback/plan",
          "example": {
            "goal": "Validate API endpoints",
            "requirements": ["Check compliance", "Optimize tokens"],
            "constraints": {"max_tokens": 10000},
            "acta_preferences": {"compression_level": "balanced"}
          }
        },
        "execute_plan": {
          "method": "POST", 
          "endpoint": "/v1/feedback/execute/{planId}",
          "response": {
            "execution_id": "exec-123",
            "status": "started",
            "estimated_completion": "2024-01-01T12:30:00Z"
          }
        }
      },
      "graphql": {
        "create_plan": "mutation { createExecutionPlan(input: {goal: \"Validate API\"}) { id budget { totalTokens } } }",
        "execute_plan": "mutation { executePlan(planId: \"plan-123\") { id status tokensUsed } }",
        "subscription": "subscription { executionStatusChanged(executionId: \"exec-456\") { status tokensUsed } }"
      },
      "grpc": {
        "create_plan": {
          "service": "OSSAFeedbackService",
          "method": "CreateExecutionPlan",
          "request": {
            "plan_input": {
              "goal": "Validate API endpoints",
              "requirements": ["Check compliance"]
            }
          }
        },
        "execute_stream": {
          "service": "OSSAFeedbackService", 
          "method": "ExecutePlan",
          "streaming": "server_streaming",
          "response_type": "ExecutionUpdate"
        }
      }
    },

    "acta_optimization": {
      "openapi": {
        "compress": {
          "method": "POST",
          "endpoint": "/v1/acta/compress",
          "example": {
            "context": "Large context with repetitive patterns...",
            "strategy": "vector_semantic",
            "target_reduction": 0.7,
            "preserve_semantics": true
          }
        },
        "model_recommendation": {
          "method": "POST",
          "endpoint": "/v1/acta/model-switch", 
          "example": {
            "task_description": "Complex reasoning task",
            "complexity_indicators": {"input_length": 5000},
            "constraints": {"max_cost": 0.01, "max_latency_ms": 3000}
          }
        }
      },
      "graphql": {
        "compress": "mutation { compressContext(input: {context: \"...\", strategy: VECTOR_SEMANTIC}) { compressionRatio tokensSaved } }",
        "optimize": "mutation { optimizeModelSelection(input: {taskDescription: \"...\"}) { recommendedModel { tier modelId } confidence } }"
      },
      "grpc": {
        "compress": {
          "service": "OSSAACTAService",
          "method": "CompressContext",
          "request": {
            "context": "Context to compress...",
            "strategy": "COMPRESSION_STRATEGY_VECTOR_SEMANTIC",
            "target_reduction": 0.7
          }
        },
        "model_rec": {
          "service": "OSSAACTAService",
          "method": "GetModelRecommendation",
          "request": {
            "task_description": "Complex reasoning task",
            "complexity_indicators": {"input_length": 5000}
          }
        }
      }
    }
  },

  "integration_frameworks": [
    {
      "name": "LangChain",
      "description": "Python/TypeScript framework for LLM applications",
      "compatibility": "full",
      "adapters": ["@ossa/langchain-adapter", "ossa-langchain-py"],
      "features": ["Tool integration", "Chain composition", "Memory management"]
    },
    {
      "name": "CrewAI", 
      "description": "Multi-agent orchestration framework",
      "compatibility": "full",
      "adapters": ["ossa-crewai"],
      "features": ["Role-based agents", "Task delegation", "Collaboration patterns"]
    },
    {
      "name": "AutoGen",
      "description": "Microsoft's multi-agent conversation framework", 
      "compatibility": "partial",
      "adapters": ["ossa-autogen-bridge"],
      "features": ["Conversation management", "Group chat", "Code execution"]
    },
    {
      "name": "OpenAI",
      "description": "OpenAI API and tools integration",
      "compatibility": "full", 
      "adapters": ["@ossa/openai-adapter"],
      "features": ["Function calling", "Assistants API", "Fine-tuning"]
    },
    {
      "name": "Anthropic",
      "description": "Anthropic Claude API integration",
      "compatibility": "full",
      "adapters": ["@ossa/anthropic-adapter"], 
      "features": ["Tool use", "System prompts", "Safety features"]
    },
    {
      "name": "MCP",
      "description": "Model Context Protocol support",
      "compatibility": "full",
      "adapters": ["@ossa/mcp-bridge"],
      "features": ["Tool discovery", "Resource access", "Context sharing"]
    }
  ],

  "deployment_targets": [
    {
      "name": "Kubernetes",
      "description": "Container orchestration platform",
      "support": "native",
      "manifests": ["deployment.yaml", "service.yaml", "configmap.yaml"],
      "features": ["Auto-scaling", "Health checks", "Service discovery"]
    },
    {
      "name": "Docker Compose",
      "description": "Multi-container application deployment",
      "support": "native", 
      "files": ["docker-compose.yaml", "Dockerfile"],
      "features": ["Service dependencies", "Volume management", "Network isolation"]
    },
    {
      "name": "AWS",
      "description": "Amazon Web Services cloud platform",
      "support": "full",
      "services": ["EKS", "ECS", "Lambda", "API Gateway"],
      "features": ["Serverless", "Load balancing", "Auto-scaling"]
    },
    {
      "name": "Google Cloud",
      "description": "Google Cloud Platform",
      "support": "full",
      "services": ["GKE", "Cloud Run", "Cloud Functions"],
      "features": ["Serverless", "Global load balancing", "Auto-scaling"]
    },
    {
      "name": "Azure", 
      "description": "Microsoft Azure cloud platform",
      "support": "full",
      "services": ["AKS", "Container Instances", "Functions"],
      "features": ["Serverless", "Application Gateway", "Auto-scaling"]
    }
  ],

  "code_generation": {
    "openapi": {
      "tools": [
        {"name": "OpenAPI Generator", "command": "openapi-generator-cli generate"},
        {"name": "Swagger Codegen", "command": "swagger-codegen generate"},
        {"name": "Redoc", "command": "redoc-cli build"}
      ],
      "languages": [
        "typescript-fetch", "python-flask", "go-gin-server", 
        "java-spring", "csharp-dotnet-core", "rust-axum"
      ]
    },
    "graphql": {
      "tools": [
        {"name": "GraphQL Code Generator", "command": "graphql-codegen"},
        {"name": "Apollo CLI", "command": "apollo client:codegen"},
        {"name": "GraphQL Inspector", "command": "graphql-inspector"}
      ],
      "languages": [
        "typescript", "python", "java", "csharp", "go", "rust"
      ]
    },
    "grpc": {
      "tools": [
        {"name": "Protocol Compiler", "command": "protoc"},
        {"name": "Buf", "command": "buf generate"},
        {"name": "gRPC Tools", "command": "grpc_tools_node_protoc"}
      ],
      "languages": [
        "go", "python", "typescript", "java", "csharp", "rust", "cpp"
      ]
    }
  },

  "validation_tools": {
    "openapi": [
      {"name": "Swagger Validator", "command": "swagger-codegen validate"},
      {"name": "Redoc CLI", "command": "redoc-cli validate"},
      {"name": "Spectral", "command": "spectral lint"}
    ],
    "graphql": [
      {"name": "GraphQL Schema Linter", "command": "graphql-schema-linter"},
      {"name": "GraphQL Inspector", "command": "graphql-inspector validate"},
      {"name": "Apollo Studio", "web_ui": "https://studio.apollographql.com/"}
    ],
    "grpc": [
      {"name": "Buf Lint", "command": "buf lint"},
      {"name": "Protoc Validate", "command": "protoc --validate_out"},
      {"name": "gRPC Health Check", "command": "grpc_health_probe"}
    ]
  },

  "performance_benchmarks": {
    "acta_optimization": {
      "token_reduction": "50-70%",
      "semantic_fidelity": ">90%", 
      "compression_time": "<100ms p99",
      "cost_reduction": "30-40%"
    },
    "api_performance": {
      "rest_latency": "<250ms p99",
      "graphql_latency": "<300ms p99", 
      "grpc_latency": "<150ms p99",
      "throughput": ">1000 rps"
    },
    "feedback_loop": {
      "cycle_time": "<5 minutes average",
      "learning_retention": ">80%",
      "improvement_rate": "15% per cycle"
    }
  },

  "compliance_matrix": {
    "frameworks": {
      "ISO_42001": {"status": "supported", "level": "gold"},
      "NIST_AI_RMF": {"status": "supported", "level": "silver"},
      "EU_AI_Act": {"status": "supported", "level": "silver"},
      "SOX": {"status": "supported", "level": "gold"},
      "HIPAA": {"status": "supported", "level": "gold"},
      "GDPR": {"status": "supported", "level": "gold"},
      "CCPA": {"status": "supported", "level": "silver"}
    },
    "audit_features": {
      "immutable_logging": true,
      "hash_chaining": true,
      "event_sourcing": true,
      "compliance_reporting": true,
      "violation_detection": true
    }
  },

  "support_channels": {
    "documentation": "https://ossa.bluefly.io/docs",
    "github": "https://github.com/ossa-framework/ossa",
    "discussion_forum": "https://github.com/ossa-framework/ossa/discussions",
    "discord": "https://discord.gg/ossa-framework",
    "enterprise_support": "enterprise@ossa.bluefly.io"
  },

  "changelog": [
    {
      "version": "0.1.8",
      "date": "2024-01-01",
      "changes": [
        "Added ACTA token optimization framework",
        "Enhanced 360째 Feedback Loop with streaming support",
        "Improved GraphQL schema with federation support", 
        "Added gRPC streaming operations",
        "Enhanced compliance and audit features",
        "Performance optimizations and benchmarks"
      ]
    }
  ]
}