# GitLab CI/CD Components Usage - OSSA v0.1.9

This document explains how the OSSA project (v0.1.9) uses the GitLab CI/CD Components Library v0.1.0.

## ðŸ”— Components Included

### 1. Git-Flow Workflow (`workflow/git-flow@0.1.0`)
- **Purpose**: Complete branching strategy with OpenAPI validation
- **Features**: Automated tagging, merge management, OpenAPI spec validation
- **Configuration**:
  ```yaml
  inputs:
    component_version: "0.1.0"
    project_version: "0.1.9"
    project_type: "ossa"
    enable_auto_merge: true
    openapi_validation: true
    openapi_spec_path: "src/api/acdl-specification.yml"
    compliance_level: "ossa"
    tag_prefix_feature: "ossa-feat"
    tag_prefix_dev: "ossa-dev" 
    tag_prefix_prod: "ossa-v"
  ```

### 2. OSSA Compliance Validation (`policies/ossa-validate@0.1.0`)
- **Purpose**: Validates OSSA v0.1.0 compliance standards
- **Features**: Strict mode validation, local source integration
- **Configuration**:
  ```yaml
  inputs:
    component_version: "0.1.0"
    version: "0.1.9"
    strict_mode: true
    local_source_path: "/Users/flux423/Sites/LLM/OSSA"
    security_threshold: 9.0
  ```

### 3. Branch Naming Policy (`policies/branch-naming@0.1.0`)
- **Purpose**: Enforces consistent branch naming
- **Features**: Auto-fix mode, custom prefixes, version control
- **Configuration**:
  ```yaml
  inputs:
    enforce_mode: "block"
    allowed_prefixes: "feature,bug,fix,hotfix,release,__REBUILD"
    allow_version_numbers: false
  ```

### 4. Node.js Build & Test (`nodejs/build@0.1.0`, `nodejs/test@0.1.0`)
- **Purpose**: TypeScript build pipeline with comprehensive testing
- **Features**: Type checking, coverage reporting, artifact management
- **Configuration**:
  ```yaml
  # Build
  inputs:
    component_version: "0.1.0"
    node_version: "20"
    typescript_check: true
    build_script: "build"
  
  # Test  
  inputs:
    node_version: "20"
    test_script: "test"
    coverage_enabled: true
  ```

### 5. Agent Testing Framework (`ai/agent-buildkit@0.1.0`)
- **Purpose**: Multi-agent validation and testing
- **Features**: Parallel execution, mesh topology, 40+ agents
- **Configuration**:
  ```yaml
  inputs:
    test_agents: ["orchestrator", "worker", "critic", "validator"]
    parallel_execution: true
    max_agents: 40
    enable_agent_mesh: true
  ```

### 6. Security Scanning (`security/secrets-scan@0.1.0`)
- **Purpose**: Automated secret detection and security checks
- **Features**: Multi-pattern scanning, audit logging, compliance reporting

### 7. Release Management (`release/release-manager@0.1.0`)
- **Purpose**: Semantic versioning and automated releases
- **Features**: NPM publishing, tag management, changelog generation
- **Configuration**:
  ```yaml
  inputs:
    component_version: "0.1.0"
    version: "0.1.9"
    project_type: "npm"
    package_name: "@bluefly/ossa"
  ```

## ðŸŽ¯ OSSA-Specific Benefits

### 1. OpenAPI-First Development
- Automatic validation of `src/api/acdl-specification.yml`
- Contract testing integration
- API versioning alignment

### 2. Agent-Centric Workflows
- Multi-agent testing with orchestrator/worker/critic patterns
- Parallel agent execution (up to 40 agents)
- Mesh topology validation for distributed systems

### 3. OSSA Compliance
- Built-in v0.1.9 compliance validation
- Strict mode enforcement
- Local source path integration with `/Users/flux423/Sites/LLM/OSSA`

### 4. TDD Integration
- Red-Green-Refactor cycle support
- Test-first development patterns
- Coverage-driven quality gates

## ðŸ”„ Workflow Integration

### Branch Strategy
```
feature/ossa-feat-* â†’ development â†’ release/ossa-v-* â†’ main
```

### Tagging Strategy
- **Feature**: `ossa-feat-0.1.9-feature-name`
- **Development**: `ossa-dev-0.1.9`  
- **Production**: `ossa-v-0.1.9`

### Pipeline Flow
1. **Validate**: Branch naming, OpenAPI spec, OSSA compliance
2. **Build**: TypeScript compilation, artifact generation
3. **Test**: Unit tests, agent tests, coverage reporting
4. **Security**: Secret scanning, vulnerability assessment
5. **Deploy**: Automated deployment (when enabled)

## ðŸ“‹ Migration Notes

### From v0.1.9-alpha.1 to v0.1.9:
1. âœ… Updated OSSA_VERSION from "0.1.9-alpha.1" to "0.1.9"
2. âœ… Replaced custom CI stages with reusable components
3. âœ… Added OpenAPI validation integration
4. âœ… Enhanced agent testing with multi-agent framework
5. âœ… Integrated git-flow workflow automation

### Backward Compatibility:
- All existing scripts and commands remain functional
- TDD Red/Green phases still supported
- Mock server testing preserved
- Agent integration patterns maintained

## ðŸš€ Getting Started

1. **Validate Configuration**: The pipeline will automatically validate your branch naming and OSSA compliance
2. **OpenAPI Sync**: Ensure your `src/api/acdl-specification.yml` is current
3. **Agent Testing**: Configure your agent types in the test configuration
4. **Release**: Use semantic versioning for automated releases

For more details, see the [GitLab CI/CD Components Library](https://gitlab.bluefly.io/llm/gitlab_components) documentation.