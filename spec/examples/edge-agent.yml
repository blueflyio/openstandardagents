ossaVersion: "1.0"

agent:
  # Identity
  id: edge-processing-agent
  name: Edge Processing Agent
  version: 1.0.0
  description: |
    Lightweight agent optimized for edge deployment with minimal
    resource requirements and offline capabilities.
  role: monitoring
  tags:
    - edge
    - iot
    - low-latency
    - offline

  # Runtime
  runtime:
    type: edge
    image: ossa/edge-agent:1.0.0-arm64
    requirements:
      python: ">=3.9"
      packages:
        - fastapi
        - uvicorn
    resources:
      cpu: "100m"
      memory: "128Mi"
    health_check:
      type: http
      endpoint: /health
      port: 5000

  # Capabilities
  capabilities:
    - name: process_sensor_data
      description: Process IoT sensor data locally
      input_schema:
        type: object
        required:
          - sensor_id
          - data
        properties:
          sensor_id:
            type: string
          data:
            type: object
      output_schema:
        type: object
        properties:
          processed:
            type: boolean
          anomalies:
            type: array
      timeout_seconds: 5

    - name: sync_to_cloud
      description: Sync processed data to cloud when connected
      input_schema:
        type: object
        properties:
          batch_size:
            type: integer
            default: 100
      output_schema:
        type: object
        properties:
          synced_count:
            type: integer

  # Policies
  policies:
    compliance: []
    encryption: true
    audit: false

  # Integration
  integration:
    protocol: http
    endpoints:
      base_url: http://localhost:5000
      health: /health
    auth:
      type: none

  # Monitoring
  monitoring:
    traces: false
    metrics: true
    logs: false
    health_check: http://localhost:5000/health

  # Metadata
  metadata:
    author: OSSA Edge Team
    license: Apache-2.0
    keywords:
      - edge
      - iot
      - offline
