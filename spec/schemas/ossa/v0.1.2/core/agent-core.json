{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://open-standards-scalable-agents.org/schemas/v0.1.2/agent-core.json",
  "title": "OSSA Core Agent Schema",
  "description": "Core level OSSA agent specification for basic interoperability",
  "type": "object",
  "required": ["apiVersion", "kind", "metadata", "spec"],
  "properties": {
    "apiVersion": {
      "type": "string",
      "const": "open-standards-scalable-agents/v0.1.2",
      "description": "OSSA API version"
    },
    "kind": {
      "type": "string",
      "const": "Agent",
      "description": "Resource type"
    },
    "metadata": {
      "type": "object",
      "required": ["name", "version"],
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
          "description": "Agent identifier (DNS-1123 compliant)"
        },
        "version": {
          "type": "string",
          "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+(-[a-zA-Z0-9]+)?$",
          "description": "Semantic version"
        },
        "namespace": {
          "type": "string",
          "default": "default",
          "description": "Agent namespace"
        },
        "labels": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "properties": {
            "tier": {
              "type": "string",
              "enum": ["core", "governed", "advanced"],
              "description": "OSSA conformance tier"
            },
            "domain": {
              "type": "string",
              "description": "Agent domain/specialty"
            }
          }
        },
        "annotations": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "properties": {
            "ossa.io/conformance-level": {
              "type": "string",
              "enum": ["core", "governed", "advanced"],
              "default": "core"
            },
            "ossa.io/migration-date": {
              "type": "string",
              "format": "date"
            },
            "ossa.io/source-format": {
              "type": "string",
              "description": "Original agent format"
            }
          }
        }
      }
    },
    "spec": {
      "type": "object",
      "required": ["agent", "capabilities"],
      "properties": {
        "agent": {
          "type": "object",
          "required": ["name", "expertise"],
          "properties": {
            "name": {
              "type": "string",
              "description": "Human-readable agent name"
            },
            "expertise": {
              "type": "string",
              "description": "Agent expertise and domain knowledge"
            },
            "description": {
              "type": "string",
              "description": "Detailed agent description"
            }
          }
        },
        "capabilities": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["name", "description"],
            "properties": {
              "name": {
                "type": "string",
                "pattern": "^[a-z][a-z0-9_]*$",
                "description": "Capability identifier"
              },
              "description": {
                "type": "string",
                "description": "Capability description"
              },
              "frameworks": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["mcp", "langchain", "crewai", "openai", "anthropic", "autogen", "custom"]
                },
                "description": "Compatible frameworks"
              }
            }
          }
        },
        "frameworks": {
          "type": "object",
          "properties": {
            "mcp": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "config": {
                  "type": "object",
                  "additionalProperties": true
                }
              }
            },
            "langchain": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "integration": {
                  "type": "string",
                  "enum": ["tools", "agents", "chains", "runnables"]
                }
              }
            },
            "crewai": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "role": {
                  "type": "string"
                }
              }
            }
          }
        },
        "discovery": {
          "type": "object",
          "required": ["uadp"],
          "properties": {
            "uadp": {
              "type": "object",
              "required": ["enabled"],
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true,
                  "description": "Enable Universal Agent Discovery Protocol"
                },
                "tags": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Discovery tags for capability matching"
                },
                "priority": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 100,
                  "default": 50,
                  "description": "Discovery priority (1-100)"
                }
              }
            }
          }
        },
        "context": {
          "type": "object",
          "properties": {
            "paths": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["path", "description"],
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "Context path"
                  },
                  "description": {
                    "type": "string",
                    "description": "Path description"
                  },
                  "type": {
                    "type": "string",
                    "enum": ["code", "docs", "data", "config", "tests"],
                    "description": "Path content type"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}