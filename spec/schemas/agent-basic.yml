# OAAS Agent Basic Schema v1.1
# Level 1: Basic functional agent with MCP support
# Ready for Claude Desktop integration

type: object
required:
  - apiVersion
  - kind
  - metadata
  - spec

properties:
  apiVersion:
    type: string
    enum: ["openapi-ai-agents/v0.1.1"]
    description: OAAS specification version
    
  kind:
    type: string
    enum: ["Agent"]
    description: Resource type (always "Agent")
    
  metadata:
    type: object
    required:
      - name
      - version
    properties:
      name:
        type: string
        pattern: '^[a-z0-9-]+$'
        minLength: 3
        maxLength: 50
        description: Agent identifier (lowercase, alphanumeric, hyphens)
      version:
        type: string
        pattern: '^[0-9]+\.[0-9]+\.[0-9]+$'
        description: Agent version (semantic versioning)
      description:
        type: string
        maxLength: 1000
        description: Optional detailed description
      labels:
        type: object
        additionalProperties:
          type: string
        description: Key-value labels for organization
      annotations:
        type: object
        additionalProperties:
          type: string
        description: Additional metadata
    additionalProperties: false
    
  spec:
    type: object
    required:
      - agent
      - capabilities
    properties:
      agent:
        type: object
        required:
          - name
          - expertise
        properties:
          name:
            type: string
            description: Agent display name
          expertise:
            type: string
            maxLength: 500
            description: Detailed description of agent's domain expertise
        additionalProperties: false
        
      capabilities:
        type: array
        minItems: 1
        maxItems: 10
        items:
          type: object
          required:
            - name
            - description
          properties:
            name:
              type: string
              pattern: '^[a-z0-9_]+$'
              description: Capability identifier
            description:
              type: string
              maxLength: 200
              description: Capability description
            frameworks:
              type: array
              items:
                type: string
                enum: ["mcp", "langchain", "crewai", "openai", "anthropic", "all"]
              description: Compatible frameworks for this capability
          additionalProperties: false
        description: Agent capabilities
        
      frameworks:
        type: object
        description: Framework compatibility (at least one required for Level 1)
        properties:
          mcp:
            type: object
            properties:
              enabled:
                type: boolean
                default: true
                description: MCP (Model Context Protocol) support
            additionalProperties: false
            
          langchain:
            type: object
            properties:
              enabled:
                type: boolean
                description: LangChain support
            additionalProperties: false
            
          crewai:
            type: object
            properties:
              enabled:
                type: boolean
                description: CrewAI support
            additionalProperties: false
            
          openai:
            type: object
            properties:
              enabled:
                type: boolean
                description: OpenAI Assistants support
            additionalProperties: false
            
        additionalProperties:
          type: object
          properties:
            enabled:
              type: boolean
          additionalProperties: false
          
      context_paths:
        type: array
        items:
          type: object
          required:
            - path
            - description
          properties:
            path:
              type: string
              description: File or directory path
            description:
              type: string
              maxLength: 100
              description: Description of what this path contains
          additionalProperties: false
        description: Paths to relevant context (source code, docs, etc.)
        
      api_endpoints:
        type: array
        items:
          type: string
          pattern: '^/[a-zA-Z0-9/_-]*$'
        description: List of API endpoints
        
    additionalProperties: false

additionalProperties: false