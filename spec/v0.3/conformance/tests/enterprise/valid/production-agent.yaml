apiVersion: ossa/v0.3.5
kind: Agent
metadata:
  name: production-test-agent
  description: Production-ready agent for enterprise conformance testing
  version: "1.0.0"
  labels:
    environment: production
    tier: enterprise
    category: conformance
spec:
  role: assistant
  type: service
  identity:
    id: production-test-agent
    version: "1.0.0"
  completion:
    criteria:
      - type: success_criteria
        description: Task completed successfully
    timeout_ms: 180000
  checkpointing:
    enabled: true
    interval_ms: 60000
    strategy: full
  monitoring:
    metrics:
      enabled: true
      interval_ms: 30000
    alerts:
      enabled: true
      channels: ["email", "slack"]
  capabilities:
    - name: data_processing
      description: Process and analyze data
    - name: reporting
      description: Generate reports
  llm:
    provider: anthropic
    model: claude-3-5-sonnet-20241022
    temperature: 0.7
  autonomy:
    level: monitored
    approval_required: true
  constraints:
    cost:
      max_cost_per_task: 0.50
      currency: USD
    performance:
      max_execution_time_ms: 30000
      max_memory_mb: 512
  observability:
    tracing:
      enabled: true
      provider: opentelemetry
    metrics:
      enabled: true
      provider: prometheus
    logging:
      enabled: true
      level: info
  security:
    authentication:
      required: true
      methods:
        - oauth2
    authorization:
      enabled: true
      model: rbac
    data_privacy:
      enabled: true
      pii_handling: redact
  resilience:
    retry_policy:
      max_attempts: 3
      backoff_multiplier: 2
    timeout_ms: 30000
    circuit_breaker:
      enabled: true
      failure_threshold: 5
  deployment:
    environment: production
    scaling:
      min_instances: 2
      max_instances: 10
  extensions:
    moe:
      enabled: true
      routing_strategy: least_cost
      models:
        - provider: anthropic
          model: claude-3-5-haiku-20241022
          use_case: simple_queries
        - provider: anthropic
          model: claude-3-5-sonnet-20241022
          use_case: complex_analysis
    bat:
      enabled: true
      criteria:
        - type: cost
          weight: 0.4
        - type: performance
          weight: 0.3
        - type: quality
          weight: 0.3
    feedback_loops:
      enabled: true
      mechanisms:
        - type: user_feedback
          collection_method: inline
        - type: performance_metrics
          interval_ms: 60000
