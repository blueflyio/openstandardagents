{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://openstandardagents.org/schemas/v0.3.3/agent-test.json",
  "title": "OSSA AgentTest Resource",
  "description": "Test definition for OSSA agents - declarative testing framework for agent behavior, performance, and compliance validation",
  "type": "object",
  "required": [
    "apiVersion",
    "kind",
    "metadata",
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "type": "string",
      "const": "ossa/v0.3.3",
      "description": "OSSA API version for AgentTest resources"
    },
    "kind": {
      "type": "string",
      "const": "AgentTest",
      "description": "Resource type identifier"
    },
    "metadata": {
      "$ref": "#/definitions/Metadata",
      "description": "Test resource metadata including name, version, and labels"
    },
    "spec": {
      "$ref": "#/definitions/TestSpec",
      "description": "Test specification including target, scenarios, and configuration"
    }
  },
  "definitions": {
    "Metadata": {
      "type": "object",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
          "maxLength": 253,
          "description": "Test suite identifier (DNS-1123 subdomain format)"
        },
        "version": {
          "type": "string",
          "pattern": "^(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)(?:-((?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\\\.(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\\\+([0-9a-zA-Z-]+(?:\\\\.[0-9a-zA-Z-]+)*))?$",
          "description": "Test suite version (semver 2.0.0)"
        },
        "description": {
          "type": "string",
          "maxLength": 2000,
          "description": "Human-readable test suite description"
        },
        "labels": {
          "type": "object",
          "additionalProperties": {
            "type": "string",
            "maxLength": 63
          },
          "description": "Labels for test categorization (e.g., team, compliance-level, test-type)"
        },
        "annotations": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Arbitrary metadata for tooling integration"
        }
      },
      "additionalProperties": false
    }
  }
}