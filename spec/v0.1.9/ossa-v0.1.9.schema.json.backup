{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://openstandardagents.org/schemas/1.0/agent.json",
  "title": "OSSA 1.0 Agent Schema",
  "description": "Formal JSON Schema for OSSA (Open Standard for Smart & Scalable Agents) version 1.0. The OpenAPI for AI Agents.",
  "type": "object",
  "required": ["ossaVersion", "agent"],
  "properties": {
    "ossaVersion": {
      "type": "string",
      "enum": ["1.0"],
      "description": "OSSA specification version"
    },
    "agent": {
      "type": "object",
      "required": ["id", "name", "version", "role", "runtime", "capabilities"],
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
          "maxLength": 63,
          "description": "Unique agent identifier (DNS-1123 subdomain format)",
          "examples": ["compliance-scanner", "chat-bot-v1", "workflow-orchestrator"]
        },
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 200,
          "description": "Human-readable agent name",
          "examples": ["Compliance Scanner", "Customer Support Chat Bot"]
        },
        "version": {
          "type": "string",
          "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
          "description": "Semantic version (semver 2.0.0)",
          "examples": ["1.0.0", "2.1.3-beta.1"]
        },
        "description": {
          "type": "string",
          "description": "Agent purpose and capabilities description"
        },
        "role": {
          "type": "string",
          "enum": [
            "compliance",
            "chat",
            "orchestration",
            "audit",
            "workflow",
            "monitoring",
            "data_processing",
            "integration",
            "development",
            "custom"
          ],
          "description": "Primary agent role/purpose"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Searchable tags for discovery",
          "examples": [["security", "fedramp", "compliance"]]
        },
        "runtime": {
          "type": "object",
          "required": ["type"],
          "properties": {
            "type": {
              "type": "string",
              "enum": ["docker", "k8s", "local", "serverless", "edge"],
              "description": "Runtime environment type"
            },
            "image": {
              "type": "string",
              "description": "Container image (for docker/k8s)",
              "examples": ["ossa/compliance-scanner:1.0.0"]
            },
            "command": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Entrypoint command (for local)"
            },
            "requirements": {
              "type": "object",
              "properties": {
                "python": {
                  "type": "string",
                  "description": "Python version requirement"
                },
                "node": {
                  "type": "string",
                  "description": "Node.js version requirement"
                },
                "packages": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Required packages"
                }
              },
              "additionalProperties": true
            },
            "resources": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string",
                  "description": "CPU request (Kubernetes format)",
                  "examples": ["500m", "1000m", "2"]
                },
                "memory": {
                  "type": "string",
                  "description": "Memory request (Kubernetes format)",
                  "examples": ["256Mi", "512Mi", "1Gi"]
                },
                "gpu": {
                  "type": "boolean",
                  "description": "GPU required"
                }
              }
            },
            "health_check": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["http", "tcp", "exec"],
                  "description": "Health check type"
                },
                "endpoint": {
                  "type": "string",
                  "description": "HTTP endpoint for health check",
                  "examples": ["/health", "/api/v1/health"]
                },
                "port": {
                  "type": "integer",
                  "description": "TCP port for health check"
                },
                "command": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Command to execute for health check"
                },
                "initial_delay_seconds": {
                  "type": "integer",
                  "default": 30
                },
                "period_seconds": {
                  "type": "integer",
                  "default": 10
                },
                "timeout_seconds": {
                  "type": "integer",
                  "default": 5
                },
                "failure_threshold": {
                  "type": "integer",
                  "default": 3
                }
              }
            }
          }
        },
        "capabilities": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["name", "description", "input_schema", "output_schema"],
            "properties": {
              "name": {
                "type": "string",
                "description": "Capability name (like OpenAPI operationId)"
              },
              "description": {
                "type": "string",
                "description": "What this capability does"
              },
              "input_schema": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "JSON Schema for input"
                  },
                  {
                    "type": "string",
                    "format": "uri",
                    "description": "Reference to external schema (OpenAPI path)"
                  }
                ]
              },
              "output_schema": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "JSON Schema for output"
                  },
                  {
                    "type": "string",
                    "format": "uri",
                    "description": "Reference to external schema"
                  }
                ]
              },
              "examples": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "input": {
                      "type": "object"
                    },
                    "output": {
                      "type": "object"
                    }
                  }
                }
              },
              "timeout_seconds": {
                "type": "integer",
                "default": 300,
                "description": "Maximum execution time"
              },
              "retry_policy": {
                "type": "object",
                "properties": {
                  "max_attempts": {
                    "type": "integer",
                    "default": 3
                  },
                  "backoff": {
                    "type": "string",
                    "enum": ["linear", "exponential"],
                    "default": "exponential"
                  }
                }
              }
            }
          }
        },
        "policies": {
          "type": "object",
          "description": "Compliance and policy configuration",
          "properties": {
            "compliance": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "fedramp-low",
                  "fedramp-moderate",
                  "fedramp-high",
                  "iso27001",
                  "soc2-type1",
                  "soc2-type2",
                  "hipaa",
                  "gdpr",
                  "pci-dss",
                  "nist-800-53",
                  "iso42001",
                  "eu-ai-act"
                ]
              },
              "description": "Compliance frameworks this agent adheres to"
            },
            "data_residency": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Geographic restrictions (ISO 3166-1 alpha-2 codes)",
              "examples": [["US", "CA"], ["EU"], ["US-GOV"]]
            },
            "encryption": {
              "type": "boolean",
              "default": true,
              "description": "Require encryption in transit and at rest"
            },
            "audit": {
              "type": "boolean",
              "default": false,
              "description": "Enable comprehensive audit logging"
            },
            "pii_handling": {
              "type": "string",
              "enum": ["none", "anonymize", "encrypt", "prohibit"],
              "default": "none",
              "description": "How to handle PII data"
            }
          }
        },
        "integration": {
          "type": "object",
          "description": "Integration and communication configuration",
          "properties": {
            "protocol": {
              "type": "string",
              "enum": ["http", "grpc", "mcp", "websocket"],
              "default": "http",
              "description": "Primary communication protocol"
            },
            "endpoints": {
              "type": "object",
              "properties": {
                "base_url": {
                  "type": "string",
                  "format": "uri"
                },
                "health": {
                  "type": "string",
                  "default": "/health"
                },
                "metrics": {
                  "type": "string",
                  "default": "/metrics"
                },
                "openapi": {
                  "type": "string",
                  "description": "Path to OpenAPI specification"
                }
              }
            },
            "auth": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["none", "api_key", "jwt", "oauth2", "mtls"],
                  "default": "jwt"
                },
                "config": {
                  "type": "object",
                  "additionalProperties": true
                }
              }
            },
            "rate_limits": {
              "type": "object",
              "properties": {
                "requests_per_second": {
                  "type": "integer"
                },
                "requests_per_minute": {
                  "type": "integer"
                },
                "burst": {
                  "type": "integer"
                }
              }
            }
          }
        },
        "monitoring": {
          "type": "object",
          "description": "Observability configuration",
          "properties": {
            "traces": {
              "type": "boolean",
              "default": true,
              "description": "Enable OpenTelemetry tracing"
            },
            "metrics": {
              "type": "boolean",
              "default": true,
              "description": "Enable Prometheus metrics"
            },
            "logs": {
              "type": "boolean",
              "default": true,
              "description": "Enable structured logging"
            },
            "health_check": {
              "type": "string",
              "format": "uri",
              "description": "Health check endpoint URL",
              "examples": ["http://localhost:3100/health"]
            },
            "phoenix_arise": {
              "type": "object",
              "description": "Phoenix Arise integration",
              "properties": {
                "enabled": {
                  "type": "boolean"
                },
                "project": {
                  "type": "string"
                },
                "export_interval_seconds": {
                  "type": "integer",
                  "default": 60
                }
              }
            }
          }
        },
        "dependencies": {
          "type": "object",
          "description": "Dependencies on other OSSA agents",
          "properties": {
            "required": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["agent_id", "min_version"],
                "properties": {
                  "agent_id": {
                    "type": "string"
                  },
                  "min_version": {
                    "type": "string"
                  },
                  "max_version": {
                    "type": "string"
                  }
                }
              }
            },
            "optional": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "agent_id": {
                    "type": "string"
                  },
                  "fallback": {
                    "type": "string",
                    "description": "Fallback behavior if not available"
                  }
                }
              }
            }
          }
        },
        "metadata": {
          "type": "object",
          "description": "Additional metadata for discovery and management",
          "properties": {
            "author": {
              "type": "string"
            },
            "maintainer": {
              "type": "string"
            },
            "homepage": {
              "type": "string",
              "format": "uri"
            },
            "repository": {
              "type": "string",
              "format": "uri"
            },
            "documentation": {
              "type": "string",
              "format": "uri"
            },
            "license": {
              "type": "string",
              "examples": ["MIT", "Apache-2.0", "GPL-3.0"]
            },
            "keywords": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": true
        },
        "bridge": {
          "type": "object",
          "description": "Protocol interoperability bridges for multi-framework support",
          "properties": {
            "mcp": {
              "type": "object",
              "description": "Model Context Protocol bridge for Claude Desktop, Cursor, etc.",
              "properties": {
                "enabled": {"type": "boolean"},
                "server_type": {"type": "string", "enum": ["stdio", "sse", "websocket"]},
                "tools": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {"type": "string"},
                      "description": {"type": "string"},
                      "input_schema": {"type": "object"},
                      "output_schema": {"type": "object"},
                      "capability": {"type": "string"}
                    }
                  }
                }
              }
            },
            "kagent": {
              "type": "object",
              "description": "kagent.dev CNCF Kubernetes-native agent bridge",
              "properties": {
                "enabled": {"type": "boolean"},
                "api_version": {"type": "string", "default": "kagent.dev/v1alpha2"},
                "agent_type": {"type": "string", "enum": ["declarative", "imperative"]},
                "deployment": {
                  "type": "object",
                  "properties": {
                    "replicas": {"type": "integer"},
                    "resources": {
                      "type": "object",
                      "properties": {
                        "requests": {"type": "object", "properties": {"cpu": {"type": "string"}, "memory": {"type": "string"}}},
                        "limits": {"type": "object", "properties": {"cpu": {"type": "string"}, "memory": {"type": "string"}}}
                      }
                    }
                  }
                },
                "model_config": {"type": "string"},
                "system_message": {"type": "string"},
                "a2a_config": {
                  "type": "object",
                  "properties": {
                    "skills": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "name": {"type": "string"},
                          "description": {"type": "string"},
                          "examples": {"type": "array", "items": {"type": "string"}},
                          "tags": {"type": "array", "items": {"type": "string"}}
                        }
                      }
                    }
                  }
                }
              }
            },
            "aiflow": {
              "type": "object",
              "description": "AIFlow-Agent bridge for social/character agents on BNB Chain",
              "properties": {
                "enabled": {"type": "boolean"},
                "character": {
                  "type": "object",
                  "properties": {
                    "name": {"type": "string"},
                    "username": {"type": "string"},
                    "personality_traits": {"type": "array", "items": {"type": "string"}},
                    "bio": {"type": "string"},
                    "lore": {"type": "array", "items": {"type": "string"}},
                    "topics": {"type": "array", "items": {"type": "string"}},
                    "adjectives": {"type": "array", "items": {"type": "string"}}
                  }
                },
                "blockchain": {
                  "type": "object",
                  "properties": {
                    "enabled": {"type": "boolean"},
                    "network": {"type": "string", "enum": ["mainnet", "testnet"]},
                    "wallet_address": {"type": "string"}
                  }
                },
                "social_platforms": {
                  "type": "object",
                  "properties": {
                    "twitter": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "username": {"type": "string"}}},
                    "telegram": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "bot_token": {"type": "string"}}},
                    "discord": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "bot_token": {"type": "string"}}}
                  }
                }
              }
            },
            "a2a": {
              "type": "object",
              "description": "Agent-to-Agent protocol bridge",
              "properties": {
                "enabled": {"type": "boolean"},
                "card_url": {"type": "string", "format": "uri"},
                "schema_version": {"type": "string"}
              }
            },
            "openapi": {
              "type": "object",
              "description": "OpenAPI bridge for REST API integration",
              "properties": {
                "enabled": {"type": "boolean"},
                "spec_url": {"type": "string", "format": "uri"},
                "spec_version": {"type": "string", "enum": ["3.0", "3.1"]}
              }
            },
            "langchain": {
              "type": "object",
              "description": "LangChain framework bridge",
              "properties": {
                "enabled": {"type": "boolean"},
                "tool_class": {"type": "string"},
                "chain_type": {"type": "string", "enum": ["llm", "retrieval", "agent", "sequential", "custom"]}
              }
            },
            "crewai": {
              "type": "object",
              "description": "CrewAI framework bridge",
              "properties": {
                "enabled": {"type": "boolean"},
                "agent_type": {"type": "string", "enum": ["worker", "manager", "researcher", "analyst", "custom"]},
                "role": {"type": "string"}
              }
            }
          }
        }
      }
    }
  },
  "examples": [
    {
      "ossaVersion": "1.0",
      "agent": {
        "id": "compliance-scanner-v1",
        "name": "FedRAMP Compliance Scanner",
        "version": "1.0.0",
        "description": "Automated compliance scanning for FedRAMP environments",
        "role": "compliance",
        "tags": ["security", "fedramp", "compliance"],
        "runtime": {
          "type": "k8s",
          "image": "ossa/compliance-scanner:1.0.0",
          "resources": {
            "cpu": "500m",
            "memory": "512Mi"
          },
          "health_check": {
            "type": "http",
            "endpoint": "/health",
            "port": 3000
          }
        },
        "capabilities": [
          {
            "name": "scan_security_vulnerabilities",
            "description": "Scan codebase for security vulnerabilities",
            "input_schema": {
              "type": "object",
              "properties": {
                "repository": {"type": "string"},
                "branch": {"type": "string", "default": "main"}
              }
            },
            "output_schema": {
              "type": "object",
              "properties": {
                "vulnerabilities": {
                  "type": "array",
                  "items": {"type": "object"}
                },
                "severity_counts": {"type": "object"}
              }
            }
          }
        ],
        "policies": {
          "compliance": ["fedramp-moderate", "soc2-type2"],
          "data_residency": ["US"],
          "encryption": true,
          "audit": true
        },
        "integration": {
          "protocol": "http",
          "endpoints": {
            "base_url": "http://compliance-scanner:3000",
            "health": "/health",
            "metrics": "/metrics"
          },
          "auth": {
            "type": "jwt"
          }
        },
        "monitoring": {
          "traces": true,
          "metrics": true,
          "logs": true,
          "health_check": "http://localhost:3000/health"
        }
      }
    }
  ]
}
