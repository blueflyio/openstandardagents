{
  "description": "Example requests and responses for Drupal Module Research Agent",
  "version": "1.0.0",
  "api_examples": {
    "basic_research": {
      "request": {
        "method": "POST",
        "endpoint": "/api/v1/research/module",
        "headers": {
          "Content-Type": "application/json",
          "X-API-Key": "your-api-key-here"
        },
        "body": {
          "module_name": "views",
          "research_depth": "basic"
        }
      },
      "response": {
        "operation_id": "550e8400-e29b-41d4-a716-446655440000",
        "status": "completed",
        "module_name": "views",
        "summary": {
          "name": "views",
          "title": "Views",
          "description": "Create customized lists and queries from your database.",
          "version": "11.x-dev",
          "status": "stable",
          "usage_count": 800000,
          "security_status": "secure",
          "maintenance_level": "actively_maintained"
        }
      }
    },
    "comprehensive_research": {
      "request": {
        "method": "POST",
        "endpoint": "/api/v1/research/module",
        "body": {
          "module_name": "webform",
          "research_depth": "comprehensive",
          "output_options": {
            "format": "structured_markdown",
            "save_to_filesystem": true
          }
        }
      },
      "response": {
        "operation_id": "550e8400-e29b-41d4-a716-446655440001",
        "status": "completed",
        "output_path": "${AGENT_DATA_DIR}/drupal_modules/webform",
        "metrics": {
          "pages_analyzed": 25,
          "issues_processed": 150,
          "documentation_pages": 12
        },
        "detailed_findings": {
          "critical_issues": [],
          "security_concerns": [],
          "key_features": [
            "Advanced form building",
            "Email handling",
            "Conditional logic"
          ],
          "maintenance_assessment": {
            "level": "excellent",
            "last_release": "2024-08-15",
            "response_time_avg": 2.5
          }
        }
      }
    },
    "status_check": {
      "request": {
        "method": "GET",
        "endpoint": "/api/v1/research/status/550e8400-e29b-41d4-a716-446655440001"
      },
      "response": {
        "operation_id": "550e8400-e29b-41d4-a716-446655440001",
        "status": "processing",
        "progress": 65.5,
        "current_phase": "issues",
        "current_task": "Analyzing open issues",
        "estimated_completion": "2024-08-26T15:30:00Z"
      }
    },
    "module_search": {
      "request": {
        "method": "GET",
        "endpoint": "/api/v1/modules/search?query=form+builder&security_status=secure&maintenance_level=actively_maintained"
      },
      "response": {
        "results": [
          {
            "name": "webform",
            "title": "Webform",
            "description": "Enables the creation of forms and questionnaires.",
            "usage_count": 500000,
            "security_status": "secure",
            "maintenance_level": "actively_maintained",
            "categories": ["forms", "content"]
          },
          {
            "name": "form_mode_manager",
            "title": "Form mode manager",
            "description": "Allows form modes to be used on entity forms.",
            "usage_count": 50000,
            "security_status": "secure",
            "maintenance_level": "actively_maintained",
            "categories": ["forms", "administration"]
          }
        ],
        "total": 2,
        "page": 1,
        "per_page": 10
      }
    }
  },
  "tddai_integration": {
    "workflow_example": {
      "command": "tddai agent execute drupal-research-agent",
      "parameters": {
        "module": "paragraphs",
        "depth": "comprehensive",
        "output": "${WORKSPACE_ROOT}/models/drupal_modules"
      },
      "expected_output": {
        "status": "success",
        "research_path": "${WORKSPACE_ROOT}/models/drupal_modules/paragraphs",
        "files_created": [
          "overview.md",
          "analysis/security_assessment.md",
          "analysis/performance_analysis.md",
          "documentation/installation.md",
          "community/issues_summary.md"
        ]
      }
    }
  },
  "mcp_integration": {
    "tool_invocation": {
      "tool_name": "drupal-module-research",
      "parameters": {
        "module_name": "token",
        "research_depth": "basic"
      },
      "response": {
        "success": true,
        "data": {
          "module_name": "token",
          "recommendation": "highly_recommended",
          "security_status": "secure",
          "maintenance_quality": "excellent"
        }
      }
    }
  },
  "error_examples": {
    "module_not_found": {
      "request": {
        "module_name": "nonexistent_module"
      },
      "response": {
        "error": "module_not_found",
        "message": "Module 'nonexistent_module' was not found on drupal.org",
        "details": {
          "searched_urls": [
            "https://www.drupal.org/project/nonexistent_module"
          ],
          "suggestions": []
        },
        "timestamp": "2024-08-26T12:00:00Z"
      }
    },
    "rate_limit_exceeded": {
      "response": {
        "error": "rate_limit_exceeded",
        "retry_after": 60,
        "limit": 30,
        "remaining": 0,
        "reset_time": "2024-08-26T12:01:00Z"
      }
    }
  },
  "validation_examples": {
    "invalid_module_name": {
      "request": {
        "module_name": "Invalid-Module-Name!"
      },
      "response": {
        "error": "validation_error",
        "message": "Invalid module name format",
        "details": {
          "field": "module_name",
          "value": "Invalid-Module-Name!",
          "expected_pattern": "^[a-z_][a-z0-9_]*$"
        }
      }
    }
  }
}