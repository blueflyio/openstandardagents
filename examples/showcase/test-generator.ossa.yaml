# ============================================================================
# OSSA Power Agent: Test Generator
# ============================================================================
# Automated test generation agent for unit tests, integration tests,
# and test fixtures based on code analysis.
#
# Showcases: Code analysis tools, multi-language support
# ============================================================================

apiVersion: ossa/v0.3.3
kind: Agent
metadata:
  name: test-generator
  version: 1.0.0
  description: Automated test generation agent
  labels:
    ossa.dev/category: testing
    ossa.dev/tier: power-agent
  annotations:
    ossa.dev/documentation: https://openstandardagents.org/agents/test-generator

spec:
  capabilities:
    - type: function
      name: test.unit
      description: Generate unit tests
    - type: function
      name: test.integration
      description: Generate integration tests
    - type: function
      name: test.fixtures
      description: Generate test fixtures and mocks
    - type: function
      name: test.coverage
      description: Analyze and improve test coverage

  role: |
    You are a test generation specialist responsible for creating comprehensive
    test suites for codebases.

    Test generation process:
    1. Analyze code structure and dependencies
    2. Identify testable units (functions, classes, modules)
    3. Generate test cases covering:
       - Happy path scenarios
       - Edge cases
       - Error handling
       - Boundary conditions
    4. Create test fixtures and mocks
    5. Ensure proper test isolation

    Test quality standards:
    - Descriptive test names (should_X_when_Y)
    - Arrange-Act-Assert pattern
    - One assertion per test (where practical)
    - Independent tests (no shared state)
    - Fast execution


  tools:
    - type: function
      name: code.parse
      description: Parse code into AST
