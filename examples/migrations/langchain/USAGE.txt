LangChain to OSSA Migration Tool Usage
========================================

The LangChain migration tool converts LangChain agents (Python/TypeScript)
and configuration files to OSSA manifests.

SUPPORTED FORMATS
-----------------
- Python LangChain (.py)
- TypeScript LangChain (.ts, .js)
- JSON configuration (.json)
- YAML configuration (.yaml, .yml)

BASIC USAGE
-----------
ossa migrate langchain <source-file> [options]

OPTIONS
-------
-o, --output <path>      Output path for migrated manifest
--report <path>          Save migration report to file
--format <json|yaml>     Report format (default: json)
--validate               Validate generated manifest (default: true)
--dry-run                Preview migration without writing files
-v, --verbose            Verbose output

EXAMPLES
--------

1. Migrate Python ReAct agent:
   ossa migrate langchain 01-python-react-agent-before.py

2. Migrate with custom output:
   ossa migrate langchain agent.py -o my-agent.ossa.yaml

3. Generate migration report:
   ossa migrate langchain agent.ts --report migration-report.json

4. Dry run (preview only):
   ossa migrate langchain config.yaml --dry-run

5. Verbose output:
   ossa migrate langchain agent.py -v

MAPPING RULES
-------------
LangChain Component         → OSSA Equivalent
-------------------           ----------------
Agent (ReAct, Zero-Shot)    → kind: Agent with spec.role
Chain (Sequential)          → kind: Workflow
Chain (Other)               → kind: Task
Tool                        → spec.tools[] (function/http/mcp)
Memory                      → extensions.langchain.memory_type
LLM Config                  → spec.llm

AUTONOMY LEVELS
---------------
ReAct agents        → autonomous
Other agents        → assisted

TESTING
-------
Run the test script:
  npm run tsx examples/migrations/langchain/test-migrations.ts

Or test individual examples:
  ossa migrate langchain 01-python-react-agent-before.py
  ossa validate 01-python-react-agent-after.ossa.yaml

MIGRATION REPORT
----------------
The migration report includes:
- Source file and format
- Detected components
- Mapping details with confidence scores
- Unmapped features
- Warnings
- Recommendations

Report confidence scores:
- High (>80%): All major components mapped successfully
- Medium (50-80%): Most components mapped, some manual work needed
- Low (<50%): Significant manual work required

COMMON ISSUES
-------------
1. Missing LLM config: Add LLM configuration manually
2. Custom prompts: Add to spec.role description
3. Memory configuration: Requires implementation verification
4. Tool implementations: Need proper schemas and endpoints

NEXT STEPS
----------
After migration:
1. Review generated manifest
2. Implement tool functions/endpoints
3. Add proper schemas for tools
4. Test the agent: ossa run <manifest>
5. Consider converting tools to MCP servers for reusability

EXAMPLES IN THIS DIRECTORY
---------------------------
1. 01-python-react-agent-before.py
   Python ReAct agent with search, calculator, and weather tools
   Includes memory configuration

2. 02-typescript-conversational-before.ts
   TypeScript conversational agent with email, calendar, and knowledge base tools
   Uses OpenAI functions and memory

3. 03-sequential-chain-before.py
   Python sequential chain for document processing
   Includes extraction, analysis, and summarization steps

4. 04-config-based-before.yaml
   YAML configuration for customer support agent
   Shows config-based agent definition

Each example includes:
- -before file: Original LangChain code/config
- -after.ossa.yaml: Expected OSSA manifest output
