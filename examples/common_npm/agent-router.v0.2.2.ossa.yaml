apiVersion: ossa/v1
kind: Agent
metadata:
  name: agent-router
  version: 1.0.0
  description: |
    Multi-provider LLM gateway with circuit breaker, intelligent routing, and failover.

    Features:
    - Multi-provider support (OpenAI, Anthropic, Google, etc.)
    - Intelligent routing based on model capabilities
    - Circuit breaker pattern for fault tolerance
    - Request/response caching
    - Cost optimization
    - Load balancing
  labels: {}
  annotations:
    ossa.io/migration: v1.0 to v0.2.2
    ossa.io/migrated-date: 2025-10-31
spec:
  role: integration
  taxonomy:
    domain: integration
    subdomain: general
    capability: routing
  llm:
    provider: openai
    model: gpt-4
    temperature: 0.7
    maxTokens: 2000
  tools:
    - type: mcp
      name: llm_completion
      server: agent-router
    - type: mcp
      name: embedding_generation
      server: agent-router
    - type: mcp
      name: health_check
      server: agent-router
  extensions:
    buildkit:
      deployment:
        replicas:
          min: 1
          max: 4
      container:
        image: llm-platform/agent-router:1.0.0
        runtime: docker
        resources: &a1
          cpu: 500m
          memory: 1Gi
    runtime:
      type: docker
      image: llm-platform/agent-router:1.0.0
      resources: *a1
      health_check:
        type: http
        endpoint: /health
        port: 4000
