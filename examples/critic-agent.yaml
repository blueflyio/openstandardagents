apiVersion: ossa.io/v0.1.9
kind: Agent
metadata:
  name: code-quality-critic
  version: v1.0.0
  description: "Quality assurance agent for code review, testing, and continuous improvement"
  author: "quality-engineering-team"
  labels:
    environment: production
    classification: internal
    role: critic
    complexity: standard
spec:
  type: critic
  subtype: code-reviewer
  capabilities:
    domains:
      - code-review
      - quality-assessment
      - testing-validation
      - security-analysis
      - performance-analysis
      - documentation-review
    operations:
      - analyze-code
      - review-changes
      - assess-quality
      - detect-issues
      - suggest-improvements
      - validate-tests
    patterns:
      - static-analysis
      - dynamic-analysis
      - peer-review
      - automated-testing
      - quality-gates
      - continuous-feedback
  protocols:
    supported:
      - name: rest
        version: "1.1"
        endpoint: "https://critic.platform.com/api/v1"
        authentication:
          type: bearer-token
          scopes: ["critic.review", "code.analyze", "quality.assess"]
        tls: true
      - name: webhook
        version: "1.0"
        endpoint: "https://critic.platform.com/webhooks/review"
        authentication:
          type: hmac-sha256
      - name: grpc
        version: "1.0"
        endpoint: "grpc://critic.platform.com:9443/CodeCritic"
        authentication:
          type: mutual-tls
  analysis:
    codeQuality:
      complexity: true
      maintainability: true
      reliability: true
      security: true
      performance: true
      testability: true
    staticAnalysis:
      syntaxChecking: true
      typeChecking: true
      styleChecking: true
      securityScanning: true
      dependencyAnalysis: true
    supportedLanguages:
      - javascript
      - typescript
      - python
      - java
      - go
      - rust
      - csharp
    qualityMetrics:
      cyclomaticComplexity: true
      codeChurn: true
      testCoverage: true
      duplication: true
      maintainabilityIndex: true
  review:
    automatedReview: true
    humanReview: true
    reviewCriteria:
      functionality: true
      readability: true
      maintainability: true
      performance: true
      security: true
      testCoverage: true
    scoring:
      scale: "0-100"
      passThreshold: 70
      categories:
        - functionality
        - quality
        - security
        - performance
        - maintainability
  feedback:
    suggestions: true
    improvements: true
    bestPractices: true
    patterns: true
    antiPatterns: true
    learningResources: true
    priority:
      - critical
      - high
      - medium
      - low
      - info
  integration:
    versionControl:
      - git
      - mercurial
      - subversion
    cicdPlatforms:
      - gitlab
      - github
      - jenkins
      - azure-devops
    issueTracking:
      - jira
      - github-issues
      - gitlab-issues
  performance:
    throughput:
      reviewsPerHour: 50
      linesOfCodePerMinute: 1000
    latency:
      analysisTime: 30000
      reviewTime: 120000
      feedbackTime: 5000
      p95: 180000
      p99: 300000
  monitoring:
    reviewMetrics: true
    qualityTrends: true
    performanceMetrics: true
    errorTracking: true
    alerting:
      reviewFailureThreshold: 5
      qualityDegradationThreshold: 10
      performanceThreshold: 300000