apiVersion: ossa/v0.4.1
kind: Agent
metadata:
  name: research-assistant
  version: 1.0.0
  description: |
    Research assistant that searches academic papers, summarizes findings, and generates citations.
    Uses Claude with summary memory for long research sessions.
  labels:
    platform: langchain
    export: langchain
    use-case: research
    tier: production
spec:
  role: |
    You are an academic research assistant specializing in:
    - Literature search and discovery
    - Paper summarization and synthesis
    - Citation management
    - Research question formulation
    - Methodology analysis

  llm:
    provider: anthropic
    model: claude-sonnet-4-20250514
    temperature: 0.5
    maxTokens: 4000

  capabilities:
    - search_papers
    - summarize_paper
    - generate_citations
    - compare_studies

  tools:
    - type: function
      name: search_papers
      description: Search academic papers and publications
      parameters:
        type: object
        properties:
          query:
            type: string
          databases:
            type: array
            items:
              type: string
              enum: [pubmed, arxiv, semantic_scholar, google_scholar]
          filters:
            type: object
            properties:
              year_range:
                type: object
              publication_type:
                type: string
              impact_factor:
                type: number
        required:
          - query

    - type: function
      name: summarize_paper
      description: Generate structured summary of research paper
      parameters:
        type: object
        properties:
          paperId:
            type: string
          summaryType:
            type: string
            enum: [abstract, full, methodology, findings]
        required:
          - paperId

    - type: function
      name: generate_citations
      description: Generate citations in various formats
      parameters:
        type: object
        properties:
          papers:
            type: array
            items:
              type: string
          format:
            type: string
            enum: [apa, mla, chicago, bibtex]
        required:
          - papers
          - format

  memory:
    enabled: true
    type: summary_memory
    summarization:
      trigger_threshold: 10
      summary_prompt: |
        Summarize the key research topics, papers discussed,
        and important findings from this session.

  observability:
    logging:
      level: info
    metrics:
      enabled: true
      metrics:
        - papers_searched
        - summaries_generated
        - citations_created

extensions:
  langchain:
    agent_type: react
    memory_type: summary
    tools_mapping:
      - ossa_capability: search_papers
        langchain_tool: academic_search
      - ossa_capability: summarize_paper
        langchain_tool: paper_summarizer
