# ==============================================================================
# OAAS Agent Basic v1.3.0 - Enhanced AI-Powered Agent
# OpenAPI AI Agents Standard v1.3.0 - Next Generation
# ==============================================================================
# Purpose: Showcase v1.3.0 enhanced features with AI insights
# Use Case: Modern agent with enhanced validation, insights, and optimization
# Grade Target: A+ (95+ points)
# ==============================================================================

# REQUIRED: Open Standards for Scalable Agents specification v0.1.2
apiVersion: open-standards-scalable-agents/v0.1.3
kind: Agent

# ENHANCED: Agent metadata with comprehensive labeling
metadata:
  # Agent identifier - must be unique within your workspace
  name: enhanced-basic-agent
  
  # Semantic version - v1.3.0 supports enhanced versioning
  version: "2.0.0"
  
  # Enhanced description with clear value proposition
  description: |
    Enhanced OAAS v1.3.0 agent demonstrating AI-powered validation,
    comprehensive framework support, and production-ready features.
    
  # Enhanced labeling for better discovery and categorization  
  labels:
    tier: governed             # core|governed|advanced
    domain: "development"      # development|analysis|automation|support
    environment: "production"  # development|staging|production
    complexity: "medium"       # low|medium|high
    
  # Enhanced annotations for framework-specific metadata
  annotations:
    ossa.io/conformance-level: "governed"
    ossa.io/migration-date: "2024-01-15"
    ossa.io/source-format: "oaas"
    oaas.io/version: "1.3.0"
    oaas.io/features: "ai-insights,enhanced-validation,multi-framework"
    oaas.io/grade-target: "A+"
    deployment.kubernetes.io/ready: "true"

# ENHANCED: Agent specification with comprehensive configuration
spec:
  # Enhanced agent identity with detailed expertise
  agent:
    name: "Enhanced Basic Agent"
    expertise: |
      Advanced code analysis, intelligent documentation generation,
      syntax validation, and AI-powered improvement suggestions.
      Specializes in multi-language support with framework integration.

  # ENHANCED: Comprehensive capabilities with detailed schemas
  capabilities:
    - name: analyze_code
      description: "Performs comprehensive code analysis with quality metrics"
      input_schema:
        type: object
        properties:
          code:
            type: string
            description: "Source code to analyze"
          language:
            type: string
            enum: ["javascript", "typescript", "python", "go", "rust"]
          options:
            type: object
            properties:
              include_metrics: 
                type: boolean
                default: true
      output_schema:
        type: object
        properties:
          quality_score:
            type: number
            minimum: 0
            maximum: 100
          issues:
            type: array
            items:
              type: object
              properties:
                type: 
                  type: string
                  enum: ["error", "warning", "suggestion"]
                message: 
                  type: string
                line:
                  type: integer
      frameworks: ["langchain", "crewai", "openai"]
      
    - name: generate_docs
      description: "Creates comprehensive documentation from code with AI insights"
      input_schema:
        type: object
        properties:
          source_code:
            type: string
          format:
            type: string
            enum: ["markdown", "rst", "html"]
            default: "markdown"
      output_schema:
        type: object
        properties:
          documentation:
            type: string
          metadata:
            type: object
      frameworks: ["mcp", "langchain", "anthropic"]
      
    - name: validate_syntax
      description: "Advanced syntax validation with context-aware suggestions"
      frameworks: ["all"]
      
    - name: suggest_improvements
      description: "AI-powered code improvement recommendations"
      frameworks: ["openai", "anthropic", "vertex_ai"]

  # ENHANCED: Context management for optimal performance
  context_management:
    max_tokens: 8000
    optimization:
      strategy: "adaptive"
      compression: true
      summarization: true
    memory:
      type: "hybrid"
      capacity: 50
      persistence: "session"

  # ENHANCED: Multi-framework support with detailed configuration
  frameworks:
    mcp:
      enabled: true
      version: "0.5.0"
      server_name: "enhanced-basic-agent"
      server_config:
        host: "0.0.0.0"
        port: 3200
    langchain:
      enabled: true
      version: "0.1.0"
      tool_type: "structured"
      async_support: true
      streaming: true
    crewai:
      enabled: true
      version: "0.25.0"
      role: "code_analyst"
      backstory: "Expert code analyst with 5+ years experience in multi-language development"
    openai:
      enabled: true
      version: "1.0.0"
      model: "gpt-4"
      temperature: 0.1
    anthropic:
      enabled: true
      version: "0.8.0"
      model: "claude-3-sonnet"
      max_tokens: 4000
      
  # ENHANCED: Integration configuration for deployment
  integration:
    authentication:
      type: "bearer_token"
      config:
        issuer: "https://auth.oaas.example.com"
        audience: "enhanced-basic-agent"
    rate_limiting:
      enabled: true
      requests_per_minute: 120
      burst: 200
    retry:
      enabled: true
      max_attempts: 3
      backoff: "exponential"
      
  # ENHANCED: Monitoring and observability
  monitoring:
    metrics:
      enabled: true
      endpoint: "/metrics"
      format: "prometheus"
    logging:
      level: "info"
      structured: true
      destinations: ["console", "file"]
    health_check:
      endpoint: "/health"
      interval: 30
      
  # ENHANCED: Security configuration for governed tier
  security:
    authentication:
      required: true
      methods: ["bearer_token", "jwt"]
    authorization:
      enabled: true
      model: "rbac"
    audit_logging: true
    data_classification: "internal"
    vulnerability_scanning: true
    encryption:
      in_transit: true
      at_rest: true
    
  # ENHANCED: Compliance configuration
  compliance:
    standards: ["iso_42001", "oaas_v1_3_0"]
    data_handling:
      encryption: "at_rest_and_in_transit"
      retention: "30d"
      anonymization: true
    audit:
      enabled: true
      level: "comprehensive"
      
  # ENHANCED: Discovery configuration for UADP compatibility
  discovery:
    uadp:
      enabled: true
      tags: ["development", "code-analysis", "ai-insights", "multi-framework", "enhanced"]
      priority: 85

# ==============================================================================
# v1.3.0 Enhanced Features Demonstrated:
# 1. AI-powered validation with quality grades (A-F)
# 2. Enhanced metadata with comprehensive labeling
# 3. Detailed capability schemas with input/output definitions
# 4. Multi-framework support with version specifications
# 5. Context management for optimal token usage
# 6. Integration, monitoring, security, and compliance configuration
# 7. Production-ready configuration with comprehensive observability
#
# Expected Grade: A+ (95+ points)
# Expected Insights: Production-ready, excellent interoperability, comprehensive
# ==============================================================================