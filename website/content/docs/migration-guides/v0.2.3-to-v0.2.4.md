---
title: "Migration Guide: v0.2.3 to v0.2.4"
description: "Step-by-step guide for migrating OSSA agents from v0.2.3 to v0.2.4"
weight: 1
---

# Migration Guide: OSSA v0.2.3 â†’ v0.2.4

**Migration Difficulty**: ðŸŸ¢ **Low** (All new features are additive)  
**Estimated Time**: 15-30 minutes (depending on feature adoption)  
**Downtime Required**: None  
**Breaking Changes**: None

## Overview

OSSA v0.2.4 introduces significant new features while maintaining **full backward compatibility** with v0.2.3. All existing manifests work without modification. This guide covers how to adopt the new features.

## TL;DR (Quick Migration)

**No changes required!** Your v0.2.3 manifests work as-is.

**Optional**: Update `apiVersion` to access new features:

```diff
- apiVersion: ossa/v0.2.3
+ apiVersion: ossa/v0.2.4
```

---

## What Changed?

### Schema Additions (Non-Breaking)

| Feature | Location | Purpose |
|---------|----------|---------|
| Transport metadata | `spec.tools[].transport` | Protocol/streaming configuration |
| State/memory | `spec.state` | Agent state management |
| Security scopes | `spec.tools[].auth.scopes` | Fine-grained permissions |
| Compliance tags | `spec.tools[].compliance_tags` | Regulatory tagging |
| Capability versioning | `spec.tools[].capabilities[].version` | Independent capability versions |
| Capability deprecation | `spec.tools[].capabilities[].deprecated` | Lifecycle management |
| Google ADK extension | `extensions.google_adk` | Google ADK integration |

### apiVersion Pattern

Extended to support v0.2.4:

```regex
^ossa/v(0\.2\.[2-4]|1)(\.[0-9]+)?(-[a-zA-Z0-9]+)?$
```

---

## Migration Steps

### Step 1: Update CLI (Recommended)

```bash
# Install v0.2.4
npm install -g @bluefly/openstandardagents@0.2.4

# Verify version
ossa --version
# Expected: 0.2.4
```

### Step 2: Update apiVersion (Optional)

**Option A: Keep v0.2.3 (Works fine)**
```yaml
apiVersion: ossa/v0.2.3
# All existing features continue to work
```

**Option B: Upgrade to v0.2.4 (Access new features)**
```yaml
apiVersion: ossa/v0.2.4
# Enables new validation for transport, state, etc.
```

### Step 3: Validate Existing Manifests

```bash
# Validate all your existing manifests
ossa validate agent.ossa.yaml

# Should pass without errors
```

---

## Adopting New Features

### 1. Add Transport Metadata (Optional)

If you need streaming or protocol-specific configuration:

```yaml
# Before (v0.2.3)
tools:
  - type: http
    name: api-service
    endpoint: https://api.example.com/v1

# After (v0.2.4) - Add transport for streaming
tools:
  - type: http
    name: api-service
    endpoint: https://api.example.com/v1
    transport:
      protocol: http
      streaming: response
      binding: /v1/stream
      content_type: text/event-stream
```

### 2. Add State Management (Optional)

For stateful agents or session continuity:

```yaml
# Before (v0.2.3)
spec:
  role: |
    You are a helpful assistant.
  llm:
    provider: openai
    model: gpt-4

# After (v0.2.4) - Add state management
spec:
  role: |
    You are a helpful assistant.
  llm:
    provider: openai
    model: gpt-4
  state:
    mode: session
    storage:
      type: memory
      retention: 1h
    context_window:
      max_messages: 100
      max_tokens: 32000
      strategy: sliding_window
```

### 3. Add Security Scopes (Optional)

For fine-grained permissions:

```yaml
# Before (v0.2.3)
tools:
  - type: http
    name: database-api
    auth:
      type: bearer
      credentials: secret:api-key

# After (v0.2.4) - Add scopes
tools:
  - type: http
    name: database-api
    auth:
      type: bearer
      credentials: secret:api-key
      scopes:
        - read:data
        - write:data
        - execute:query
```

### 4. Add Compliance Tags (Optional)

For regulatory compliance:

```yaml
# Before (v0.2.3)
tools:
  - type: http
    name: patient-api
    compliance_tags: []  # Not available

# After (v0.2.4) - Add compliance tags
tools:
  - type: http
    name: patient-api
    compliance_tags:
      - pii
      - hipaa
      - gdpr
```

### 5. Add Capability Versioning (Optional)

For independent capability lifecycle:

```yaml
# Before (v0.2.3)
tools:
  - type: http
    name: search-api
    capabilities:
      - name: search_documents

# After (v0.2.4) - Add versioning
tools:
  - type: http
    name: search-api
    capabilities:
      - name: search_documents
        version: '2.1'
        deprecated: false
      - name: search_legacy
        version: '1.0'
        deprecated: true
        deprecation_message: |
          Deprecated in v0.2.4. Use 'search_documents' instead.
```

### 6. Add Google ADK Extension (Optional)

For Google Agent Development Kit integration:

```yaml
# Before (v0.2.3)
extensions:
  # google_adk not available

# After (v0.2.4) - Add Google ADK
extensions:
  google_adk:
    agent_type: llm_agent
    config:
      model: gemini-2.0-flash-exp
      temperature: 0.7
```

---

## Complete Migration Example

### Before (v0.2.3)

```yaml
apiVersion: ossa/v0.2.3
kind: Agent
metadata:
  name: chat-assistant
  version: 1.0.0
spec:
  role: |
    You are a helpful chat assistant.
  llm:
    provider: openai
    model: gpt-4
  tools:
    - type: http
      name: api-service
      endpoint: https://api.example.com/v1
      auth:
        type: bearer
        credentials: secret:api-key
```

### After (v0.2.4) - With New Features

```yaml
apiVersion: ossa/v0.2.4
kind: Agent
metadata:
  name: chat-assistant
  version: 1.0.0
spec:
  role: |
    You are a helpful chat assistant.
  llm:
    provider: openai
    model: gpt-4
  state:
    mode: session
    storage:
      type: memory
      retention: 1h
    context_window:
      max_messages: 100
      strategy: sliding_window
  tools:
    - type: http
      name: api-service
      endpoint: https://api.example.com/v1
      transport:
        protocol: http
        streaming: response
        binding: /v1/stream
        content_type: text/event-stream
      auth:
        type: bearer
        credentials: secret:api-key
        scopes:
          - read:data
          - write:data
      compliance_tags:
        - pii
```

---

## Validation

After migration, validate your manifests:

```bash
# Validate single manifest
ossa validate agent.ossa.yaml

# Validate all manifests in directory
find . -name "*.ossa.yaml" -exec ossa validate {} \;

# Expected output:
# âœ“ Agent manifest is valid OSSA 0.2.4
```

---

## Rollback Plan

If you encounter issues, you can rollback:

1. **Revert apiVersion**:
   ```yaml
   apiVersion: ossa/v0.2.3
   ```

2. **Remove new features** (if added):
   - Remove `transport` blocks
   - Remove `state` blocks
   - Remove `scopes` and `compliance_tags`
   - Remove `google_adk` extension

3. **Reinstall v0.2.3 CLI**:
   ```bash
   npm install -g @bluefly/openstandardagents@0.2.3
   ```

---

## Common Questions

**Q: Do I need to migrate immediately?**  
A: No. v0.2.3 manifests continue to work. Migrate when you need new features.

**Q: Will v0.2.3 be deprecated?**  
A: Not in the near term. v0.2.3 remains fully supported.

**Q: Can I use v0.2.4 features with v0.2.3 apiVersion?**  
A: No. Update `apiVersion` to `ossa/v0.2.4` to use new features.

**Q: Are there breaking changes?**  
A: No. All changes are additive and backward compatible.

**Q: How do I know if I need the new features?**  
A: Use transport metadata if you need streaming. Use state management for stateful agents. Use security scopes for fine-grained permissions.

---

## Related Documentation

- [State Management](/docs/schema-reference/state) - State management guide
- [Transport Metadata](/docs/schema-reference/transport) - Transport configuration
- [Security & Compliance](/docs/schema-reference/security) - Security scopes and compliance tags
- [Changelog](/docs/changelog) - Complete v0.2.4 changelog

---

**Need Help?**  
- [GitHub Issues](https://github.com/blueflyio/openstandardagents/issues)
- [Documentation](/docs)
- [Community Discussions](https://github.com/blueflyio/openstandardagents/discussions)

