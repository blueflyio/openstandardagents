# OSSA BuildKit Configuration
# Consolidated from .buildkit directory

version: 1.0.0
enabled: true

# Workflow Configuration
workflow:
  feature_branches_only: true
  ci_driven_development: true
  no_direct_development_commits: true
  main_branch_protection: true

# Branch Naming Standards
branch_naming:
  patterns:
    feature: "feature/<scope-kebab-case>"
    fix: "fix/<scope-kebab-case>"
    chore: "chore/<scope-kebab-case>"
    bot: "bot/<agent-name>/<task>"
  validation:
    enforce_naming: true
    reject_version_numbers: true
    require_kebab_case: true

# CI/CD Rules
ci_rules:
  target_branch: development
  require_approval: true
  auto_fast_forward: true
  pipeline_success_required: true

# Protection Rules
protection:
  block_direct_development_push: true
  block_direct_main_push: true
  quarantine_deleted_branches: true
  backup_on_conflicts: true

# Token Optimization Policy
token_optimization:
  agent_first_policy: true
  prevent_manual_coding_over_500_tokens: true
  require_agent_justification: true
  track_token_usage: true
  threshold: 500

# Security Hooks Configuration
hooks:
  command_validation:
    enabled: true
    priority: 100
    max_command_length: 1000
    allowed_directories:
      - /tmp
      - /Users/flux423/Sites/LLM/OSSA
    blocked_directories:
      - /etc
      - /sys
      - /proc
    blocked_commands:
      - rm
      - dd
      - format
    blocked_patterns:
      - "rm -rf /"
      - "sudo rm"
      - "chmod 777"

# Audit Configuration
audit:
  enabled: true
  log_level: info
  compliance:
    - SOC2

# Agent First Policy Commands
agent_commands:
  discovery:
    - "buildkit agents list"
    - "buildkit agents search"
  creation:
    - "buildkit agents spawn --type worker"
    - "buildkit agents coordinate --multi-agent"
  monitoring:
    - "buildkit agents status"
    - "buildkit agents metrics"