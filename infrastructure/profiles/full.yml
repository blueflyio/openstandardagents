version: '3.8'

includes:
  - core.yml
  - dev.yml

services:
  # Additional services for full deployment
  agent-chat:
    image: agent-chat:latest
    container_name: agent-chat
    ports:
      - "4010:4010"
    environment:
      - NODE_ENV=production
      - PORT=4010
    networks:
      - llm-network

  agent-docker:
    image: agent-docker:latest
    container_name: agent-docker
    ports:
      - "4020:4020"
    environment:
      - NODE_ENV=production
      - PORT=4020
    networks:
      - llm-network

  agent-mesh:
    image: agent-mesh:latest
    container_name: agent-mesh
    ports:
      - "4030:4030"
    environment:
      - NODE_ENV=production
      - PORT=4030
    networks:
      - llm-network

  doc-engine:
    image: doc-engine:latest
    container_name: doc-engine
    ports:
      - "4110:4110"
    environment:
      - NODE_ENV=production
      - PORT=4110
    networks:
      - llm-network

  workflow-engine:
    image: workflow-engine:latest
    container_name: workflow-engine
    ports:
      - "4150:4150"
    environment:
      - NODE_ENV=production
      - PORT=4150
    networks:
      - llm-network

  # Infrastructure services
  postgresql:
    image: postgres:15-alpine
    container_name: llm-postgres
    ports:
      - "5433:5432"
    environment:
      - POSTGRES_DB=llm_platform
      - POSTGRES_USER=llm
      - POSTGRES_PASSWORD=password
    networks:
      - llm-network

  redis:
    image: redis:7-alpine
    container_name: llm-redis
    ports:
      - "6380:6379"
    networks:
      - llm-network

  qdrant:
    image: qdrant/qdrant:latest
    container_name: llm-qdrant
    ports:
      - "6333:6333"
    networks:
      - llm-network